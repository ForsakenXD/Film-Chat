(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(7),s=a.n(r),i=(a(87),a(9)),c=a(10),l=a(12),m=a(11),h=a(6),u=a(13),d=(a(88),a(89),a(73)),b=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"viewMovie",value:function(){var e="https://www.themoviedb.org/movie/"+this.props.movie.id;window.open(e,"_blank").focus()}},{key:"chat",value:function(e){this.props.show(!0),this.props.roomName(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{borderBottom:"2px solid #2c3440",marginTop:"2em"}},o.a.createElement("div",{className:"grid-container",key:this.props.movie.id},o.a.createElement("img",{alt:"".concat(this.props.movie.title),width:"120",src:"https://image.tmdb.org/t/p/w185"+this.props.movie.poster_path,className:"img-search"}),o.a.createElement("div",{className:"item-2 "},o.a.createElement("h4",{className:"item"},this.props.movie.title),o.a.createElement("p",{className:"item",size:"sm"},this.props.movie.overview),o.a.createElement(d.a,{variant:"light",onClick:this.viewMovie.bind(this),className:"button-search1"},o.a.createElement("span",null,"View")),o.a.createElement(d.a,{variant:"danger",onClick:function(){e.chat(e.props.movie.title)},className:"button-search2"},o.a.createElement("span",null,"Chat with a random fan about this movie!")))))}}]),t}(o.a.Component),p=a(128),g=a(129),v=a(127),f=a(126),E=a(78);var y=function(){return o.a.createElement("div",{className:"flex"},o.a.createElement(p.a,{bg:"",expand:"lg",id:"navbar",className:"lg "},o.a.createElement("img",{href:"#home",alt:"logo",src:"logo2.png"}),o.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},o.a.createElement(g.a,{className:"mr-auto "},o.a.createElement(g.a.Link,{href:"#link"},"Movies"),o.a.createElement(v.a,{title:"More",id:"basic-nav-dropdown"},o.a.createElement(v.a.Item,{href:"#action/3.1"},"Project's github"),o.a.createElement(v.a.Item,{href:"#action/3.2"},"Developmental difficulties/project blog"),o.a.createElement(v.a.Item,{href:"#action/3.3"},"Talking about film chat's potential"),o.a.createElement(v.a.Divider,null),o.a.createElement(v.a.Item,{href:"#action/3.4"},"About me"))),o.a.createElement(f.a,{inline:!0,className:""},o.a.createElement(E.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),o.a.createElement(d.a,{variant:"",className:"nav-search",onClick:function(){return console.log("1")}},"Search for a movie")))))},k={background:"linear-gradient(180deg, rgba(255,255,255,0) 37%, rgba(51,255,222,0.3) 100%)",backgroundColor:"transparent"},w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={},e.show(),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"chat",value:function(e){this.props.show(!0),this.props.roomName(e)}},{key:"show",value:function(){fetch("https://api.themoviedb.org/3/movie/popular?api_key=1adbe5b9d80d1dc5e9cd90c2e0c31900&language=en-US&page=1").then(function(e){return e.json()}).then(function(e){var t=this,a=[],n=1;e.results.forEach(function(e){if(n<=14&&null!==e.poster_path){var r="https://image.tmdb.org/t/p/w200/"+e.poster_path,s="https://www.themoviedb.org/movie/"+e.id,i=o.a.createElement("figure",{className:"imghvr-blur",style:{backgroundColor:"transparent"},key:e.original_title},o.a.createElement("img",{alt:e.original_title,src:r,key:e.original_title,className:"poster"}),o.a.createElement("figcaption",{style:k},o.a.createElement("h3",{className:"ih-fade-down ih-delay-sm",style:{fontSize:"25px"}},e.original_title),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement(d.a,{onClick:function(){return window.open(s,"_blank")},variant:"danger sm",style:{marginRight:"1em",backgroundColor:"crimson",borderColor:"crimson"}},"View"),o.a.createElement(d.a,{onClick:function(){return t.chat(e.original_title)},variant:"success",style:{backgroundColor:"black",borderColor:"black"}},"Chat!")),o.a.createElement("h6",null,"Release Date:",e.release_date),o.a.createElement("h6",null,"Rating:",e.vote_average,"/10")));a.push(i),n++}}),this.setState({PopularRow:a})}.bind(this))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",{className:"popular-movies-text"},"Popular Movies Today"),this.state.PopularRow)}}]),t}(o.a.Component),j={background:"linear-gradient(180deg, rgba(255,255,255,0) 37%, rgba(153,0,0,0.5) 100%)",backgroundColor:"transparent"},O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={},e.random_genre=e.random_genre.bind(Object(h.a)(e)),e.genre_movies=e.genre_movies.bind(Object(h.a)(e)),e.random_genre(),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"chat",value:function(e){this.props.show(!0),this.props.roomName(e)}},{key:"random_genre",value:function(){fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=1adbe5b9d80d1dc5e9cd90c2e0c31900&language=en-US").then(function(e){return e.json()}).then(function(e){var t=Math.floor(Math.random()*e.genres.length),a=e.genres[t],n=o.a.createElement("span",null,a.name),r=a.id;this.setState({genre:n,id:r}),this.genre_movies()}.bind(this))}},{key:"genre_movies",value:function(){var e="https://api.themoviedb.org/3/discover/movie?api_key=1adbe5b9d80d1dc5e9cd90c2e0c31900&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1&with_genres="+this.state.id;fetch(e).then(function(e){return e.json()}).then(function(e){var t=this,a=[],n=1;e.results.forEach(function(e){if(n<=7&&null!==e.poster_path){var r="https://image.tmdb.org/t/p/w200/"+e.poster_path,s="https://www.themoviedb.org/movie/"+e.id,i=o.a.createElement("figure",{className:"imghvr-blur",style:{backgroundColor:"transparent"},key:e.original_title},o.a.createElement("img",{alt:e.original_title,src:r,key:e.original_title,className:"poster"}),o.a.createElement("figcaption",{style:j},o.a.createElement("h3",{className:"ih-fade-down ih-delay-sm",style:{fontSize:"25px"}},e.original_title),o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement(d.a,{onClick:function(){return window.open(s,"_blank")},variant:"danger sm",style:{marginRight:"1em",backgroundColor:"crimson",borderColor:"crimson"}},"View"),o.a.createElement(d.a,{onClick:function(){return t.chat(e.original_title)},variant:"success",style:{backgroundColor:"black",borderColor:"black"}},"Chat!")),o.a.createElement("h6",null,"Release Date:",e.release_date),o.a.createElement("h6",null,"Rating:",e.vote_average,"/10")));a.push(i),n++}}),this.setState({PopularRow:a})}.bind(this))}},{key:"render",value:function(){return o.a.createElement("div",{style:{marginTop:"3em",marginBottom:"8em"}},o.a.createElement("h1",{className:"popular-movies-text"},"Random genre we think you should explore:",this.state.genre),this.state.PopularRow)}}]),t}(o.a.Component),S=a(29),C=a(59),N=a.n(C);var R=function(e){return o.a.createElement("div",{className:"message"},o.a.createElement("div",{className:"message-username"},e.username),o.a.createElement("div",{className:"message-text"},e.text))},_=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillUpdate",value:function(){var e=s.a.findDOMNode(this);e.scrollTop=e.scrollHeight}},{key:"componentDidUpdate",value:function(){if(this.shouldScrollToBottom){var e=s.a.findDOMNode(this);e.scrollTop=e.scrollHeight}}},{key:"renderUserMessage",value:function(){return 0!==this.props.messages.length?this.props.messages.map(function(e,t){return o.a.createElement(R,{key:e.id,username:e.senderId,text:e.text})}):o.a.createElement("div",{className:"center"},o.a.createElement("h2",null,"No messages.Type something and be the first one !"))}},{key:"render",value:function(){return this.props.roomId?o.a.createElement("div",{className:"message-list"},o.a.createElement("h3",{style:{textAlign:"center",borderBottom:"1px solid rgb(153, 170, 187)"}},"Username:",this.props.username),this.renderUserMessage()):o.a.createElement("div",{className:"message-list"},o.a.createElement("div",{className:"join-room"},"\u2190Join a room!"))}}]),t}(o.a.Component),x=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={message:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.sendMessage(this.state.message),this.setState({message:""})}},{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit,className:"send-message-form"},o.a.createElement("input",{disabled:this.props.disabled,onChange:this.handleChange,value:this.state.message,placeholder:"Type your message and hit ENTER",type:"text"}))}}]),t}(o.a.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Object(S.a)(this.props.rooms).sort(function(e,t){return e.id-t.id});return o.a.createElement("div",{className:"rooms-list"},o.a.createElement("ul",null,o.a.createElement("h3",null,"Popular Rooms"),t.map(function(t){var a=e.props.roomId===t.id?"active":"";return o.a.createElement("li",{key:t.id,className:"room"+a},o.a.createElement("a",{onClick:function(){return e.props.subscribeToRoom(t.id)},href:"#black"},"# ",t.name))})))}}]),t}(o.a.Component),U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={roomName:""},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState({roomName:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.createRoom(this.state.roomName),this.setState({roomName:""})}},{key:"render",value:function(){return o.a.createElement("div",{className:"new-room-form"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{value:this.state.roomName,onChange:this.handleChange,type:"text",placeholder:"Create a new room!",required:!0}),o.a.createElement("button",{id:"create-room-btn",type:"submit"},"+")))}}]),t}(o.a.Component),M=a(130),I=a(125),D=(a(46),a(42)),P=a.n(D),W=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).handleClick=function(t){var a=t.target;e.setState(function(e){return{target:a,show2:!e.show2}})},e.state={username:"",show:!1,show2:!1},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(h.a)(e)),e.handleShow=e.handleShow.bind(Object(h.a)(e)),e.handleClose=e.handleClose.bind(Object(h.a)(e)),e.randomUsername=e.randomUsername.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.state.username?(console.log(this.state.username),this.props.usernameUpdate(this.state.username),this.props.onSubmit(this.state.username),this.setState({username:""}),this.handleClose()):console.log("you need to enter a username")}},{key:"componentDidMount",value:function(){this.handleShow()}},{key:"random",value:function(){for(var e=[],t=0;t<12;t++){var a=Math.floor(38*Math.random());a<=26?e.push(String.fromCharCode(97+a)):e.push(a)}return e.join("")}},{key:"randomUsername",value:function(){this.setState({username:this.random()})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(P.a,{className:"modall",visible:this.state.show,onClose:this.handleClick,width:40,height:40,measure:"%",animation:"zoom"},o.a.createElement(M.a,{show:this.state.show2,target:this.state.target,placement:"top",container:this,containerPadding:20},o.a.createElement(I.a,{id:"popover-contained",title:"Hey There"},o.a.createElement("strong",null,"Unfortunatly you have to enter a username before closing this window"))),o.a.createElement(f.a,{onSubmit:this.handleSubmit,style:{width:"80%"}},o.a.createElement(f.a.Label,null,"Username"),o.a.createElement(f.a.Control,{type:"text",placeholder:"Enter username",onChange:this.handleChange,value:this.state.username}),o.a.createElement(f.a.Text,{className:"text-muted"},"keep it simple :)")),o.a.createElement(d.a,{variant:"primary",type:"submit",className:"username-buttons",onClick:this.handleSubmit,style:{marginRight:"0.5em"}},"Submit"),o.a.createElement(d.a,{variant:"info",type:"submit",className:"username-buttons",onClick:this.randomUsername},"Random")))}}]),t}(o.a.Component),z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).updateText1=function(t){e.setState({username:t})},e.state={roomId:null,messages:[],joinableRooms:[],joinedRooms:[],state:!0,show:!1,usersWhoAreTyping:[]},e.sendMessage=e.sendMessage.bind(Object(h.a)(e)),e.subscribeToRoom=e.subscribeToRoom.bind(Object(h.a)(e)),e.getRooms=e.getRooms.bind(Object(h.a)(e)),e.createRoom=e.createRoom.bind(Object(h.a)(e)),e.handleShow=e.handleShow.bind(Object(h.a)(e)),e.handleClose=e.handleClose.bind(Object(h.a)(e)),e.onUsernameSubmitted=e.onUsernameSubmitted.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onUsernameSubmitted",value:function(e){var t=this;fetch("http://localhost:3001/users",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:e})}).then(function(a){t.setState({currentUsername:e}),new N.a.ChatManager({instanceLocator:"v1:us1:8e5347bd-63e5-479a-b75c-ccb9da6fbf49",userId:e,tokenProvider:new N.a.TokenProvider({url:"https://us1.pusherplatform.io/services/chatkit_token_provider/v1/8e5347bd-63e5-479a-b75c-ccb9da6fbf49/token"})}).connect().then(function(e){t.currentUser=e,t.getRooms()}).catch(function(e){return console.log("error on connecting: ",e)}),console.log("success")}).catch(function(e){console.log(e)})}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({roomName:e.roomName}),"undefined"!==typeof this.state.currentUsername&&this.createRoom(e.roomName)}},{key:"getRooms",value:function(){var e=this;this.currentUser.getJoinableRooms().then(function(t){e.setState({joinableRooms:t,joinedRooms:e.currentUser.rooms})}).catch(function(e){return console.log("error on joinableRooms: ",e)})}},{key:"subscribeToRoom",value:function(e){var t=this;this.setState({messages:[]}),this.setState({messages:[]}),console.log(e),this.currentUser.subscribeToRoom({roomId:e,hooks:{onMessage:function(e){t.setState({messages:[].concat(Object(S.a)(t.state.messages),[e])})}}}).then(function(e){t.setState({roomId:e.id}),t.getRooms()}).catch(function(e){return console.log("error on subscribing to room: ",e)})}},{key:"sendMessage",value:function(e){this.currentUser.sendMessage({text:e,roomId:this.state.roomId})}},{key:"createRoom",value:function(e){var t=this;console.log(this.state.currentUsername);var a=!1,n="";this.state.joinableRooms.forEach(function(t){e===t.name&&(a=!0,n=t.id)}),this.state.joinedRooms.forEach(function(t){e===t.name&&(a=!0,n=t.id)}),"undefined"!==typeof e&&(a?this.subscribeToRoom(n):this.currentUser.createRoom({name:e}).then(function(e){return t.subscribeToRoom(e.id)}).catch(function(e){return console.log("error with create room")}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(T,{roomId:this.state.roomId,subscribeToRoom:this.subscribeToRoom,rooms:[].concat(Object(S.a)(this.state.joinableRooms),Object(S.a)(this.state.joinedRooms))}),o.a.createElement(_,{roomId:this.state.roomId,messages:this.state.messages,username:this.state.currentUsername}),o.a.createElement(x,{disabled:!this.state.roomId,sendMessage:this.sendMessage}),o.a.createElement(U,{createRoom:this.createRoom}),o.a.createElement(W,{onSubmit:this.onUsernameSubmitted,usernameUpdate:this.updateText1}))}}]),t}(o.a.Component),B=a(80),J=a(81).a.ul({open:{x:"0%",delayChildren:200,staggerChildren:150},closed:{x:"-100%",delay:300}}),A=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).room=function(t){e.setState({roomName:t})},e.toggle=function(){return e.setState({isOpen:!e.state.isOpen})},e.updateText1=function(t){e.setState({visible:t})},e.temp=function(){e.setState({trigger:!0})},e.state={isOpen:!1,visible:!1,trigger:!1,director:""},e.updateText1=e.updateText1,e.performSearch=e.performSearch.bind(Object(h.a)(e)),e.image=e.image.bind(Object(h.a)(e)),e.image(),e.performSearch("John Wick"),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.toggle,350)}},{key:"show",value:function(){this.setState({visible:!0})}},{key:"hide",value:function(){this.setState({visible:!1})}},{key:"performSearch",value:function(e){fetch("https://api.themoviedb.org/3/search/movie?api_key=1adbe5b9d80d1dc5e9cd90c2e0c31900&language=en-US&page=1&include_adult=false&query="+e).then(function(e){return e.json()}).then(function(e){var t=this,a=e.results,n=[];a.forEach(function(e){if(null!==e.poster_path){var a=o.a.createElement(b,{key:e.id,movie:e,show:t.updateText1,visible:t.state.visible,roomName:t.room});n.push(a)}}),this.setState({rows:n})}.bind(this))}},{key:"searchChangeHandler",value:function(e){var t=e.target.value;""!==e.target.value&&this.performSearch(t)}},{key:"image",value:function(){fetch("https://api.themoviedb.org/3/list/111790?api_key=1adbe5b9d80d1dc5e9cd90c2e0c31900&language=en-US").then(function(e){return e.json()}).then(function(e){var t=[];e.items.forEach(function(e){t.push(e.original_title)}),this.setState({background:t[0]})}.bind(this))}},{key:"render",value:function(){var e=this.state.isOpen;return o.a.createElement("div",null,o.a.createElement(y,null),o.a.createElement("div",null,o.a.createElement("div",{className:"noir-background"}),o.a.createElement("div",{className:"noir-background-text-border"},o.a.createElement(J,{className:"sidebar",pose:e?"open":"closed"},o.a.createElement("h1",{className:"noir-background-text-header"},"Filmchat"),o.a.createElement("p",{className:"noir-background-text-paragraph"},"A Website where Film-fans through out the World can privately and Anonymously Chat about their favourite movies in chatrooms created on the spot!"),o.a.createElement(B.Link,{activeClass:"active",to:"section1",spy:!0,smooth:!0,offset:-70,duration:1500},o.a.createElement(d.a,{size:"lg",id:"button1"},"search for a specific movie")),o.a.createElement(d.a,{size:"lg",id:"button2",onClick:this.show.bind(this)},"See all chatrooms")),o.a.createElement("p",{id:"movie-title"},this.state.background+"(2003)"),o.a.createElement("img",{src:"arrow.png",alt:"arrow",width:"50"}))),o.a.createElement("div",{className:"popular-movies"},o.a.createElement("h1",{className:"headline1"},"You can either start chatting or view more information about the movies by hovering your mouse over them.Time to get social!!"),o.a.createElement(w,{show:this.updateText1,roomName:this.room}),o.a.createElement(O,{show:this.updateText1,roomName:this.room}),o.a.createElement("h1",{className:"headline1"},"Search for your favourite movie and chat with others down bellow!"),o.a.createElement("div",{className:"search-background search__container",id:"section1"},o.a.createElement("div",null,o.a.createElement("input",{className:"searchBar search__input",placeholder:"Search for a movie!",onChange:this.searchChangeHandler.bind(this)})),this.state.rows)),o.a.createElement(P.a,{className:"modall",visible:this.state.visible,onClose:this.hide.bind(this),width:80,height:80,measure:"%",animation:"zoom"},o.a.createElement(z,{roomName:this.state.roomName,id:"nikos",handler:this.temp})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports=a(124)},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.c545429e.chunk.js.map